# ì„ ë¬¼ ìë™ ê±°ë˜ ì‹œìŠ¤í…œ í”„ë¡œì íŠ¸ ê¸°íšì„œ
## Claude Code ì—ì´ì „íŠ¸ ì›Œí¬í”Œë¡œìš° ê°€ì´ë“œ

---

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**í”„ë¡œì íŠ¸ëª…**: Match-Trade ì„ ë¬¼ ìë™ ê±°ë˜ ì‹œìŠ¤í…œ (Multi-Account Scalping System)

**ëª©ì **: ì°¨íŠ¸, ê±°ë˜ëŸ‰, í˜¸ê°€ë¥¼ ì‹¤ì‹œê°„ ë¶„ì„í•˜ì—¬ ìˆœê°„ì ì¸ ê±°ë˜ëŸ‰ ì¦ê°€ ë°©í–¥ìœ¼ë¡œ ìŠ¤ìº˜í•‘í•˜ëŠ” ìë™ ê±°ë˜ ì‹œìŠ¤í…œ. ì—¬ëŸ¬ ê³„ì •ì— ë™ì‹œì— ì£¼ë¬¸ì„ ì‹¤í–‰í•˜ê³  í†µí•© ëŒ€ì‹œë³´ë“œì—ì„œ ëª¨ë‹ˆí„°ë§.

**ê¸°ìˆ  ìŠ¤íƒ**:
- Backend: Python (FastAPI)
- Trading Engine: Python (asyncio, pandas, numpy, ta-lib)
- Database: PostgreSQL
- Frontend Dashboard: React + TypeScript + Tailwind CSS
- Real-time Communication: WebSocket
- Containerization: Docker

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FRONTEND DASHBOARD                       â”‚
â”‚                  (React + TypeScript)                        â”‚
â”‚  - User Management  - Balance Monitor  - Order Status       â”‚
â”‚  - Trade History    - P&L Analytics    - Real-time Charts   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ WebSocket + REST API
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               BACK OFFICE SERVER (FastAPI)                   â”‚
â”‚  - User Session Manager  - Order Orchestrator               â”‚
â”‚  - API Gateway          - Database Manager                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL  â”‚  â”‚   TRADING ENGINE (Python)             â”‚
â”‚   Database    â”‚  â”‚  - Market Data Analyzer               â”‚
â”‚               â”‚  â”‚  - Volume Spike Detector              â”‚
â”‚               â”‚  â”‚  - Order Book Analyzer                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  - Signal Generator                   â”‚
                   â”‚  - Risk Manager                       â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Match-Trade Platform API       â”‚
                   â”‚  - Login/Auth                   â”‚
                   â”‚  - Market Data                  â”‚
                   â”‚  - Order Execution              â”‚
                   â”‚  - Position Management          â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Phase 1: Trading Engine (ìŠ¤ìº˜í•‘ ë´‡)

### 1.1 í”„ë¡œì íŠ¸ êµ¬ì¡°
```
trading_engine/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py          # ì„¤ì • ê´€ë¦¬
â”‚   â””â”€â”€ strategy_config.py   # ì „ëµ íŒŒë¼ë¯¸í„°
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ market_data.py       # ì‹œì¥ ë°ì´í„° ìˆ˜ì§‘
â”‚   â”œâ”€â”€ orderbook.py         # í˜¸ê°€ì°½ ë°ì´í„°
â”‚   â””â”€â”€ websocket_client.py  # WebSocket ì‹¤ì‹œê°„ ë°ì´í„°
â”œâ”€â”€ analysis/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ volume_analyzer.py   # ê±°ë˜ëŸ‰ ë¶„ì„
â”‚   â”œâ”€â”€ chart_analyzer.py    # ì°¨íŠ¸ íŒ¨í„´ ë¶„ì„
â”‚   â”œâ”€â”€ orderbook_analyzer.py # í˜¸ê°€ ë¶„ì„
â”‚   â””â”€â”€ indicators.py        # ê¸°ìˆ ì  ì§€í‘œ
â”œâ”€â”€ strategy/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ scalping_strategy.py # ìŠ¤ìº˜í•‘ ì „ëµ ë¡œì§
â”‚   â”œâ”€â”€ signal_generator.py  # ë§¤ë§¤ ì‹ í˜¸ ìƒì„±
â”‚   â””â”€â”€ risk_manager.py      # ë¦¬ìŠ¤í¬ ê´€ë¦¬
â”œâ”€â”€ execution/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ order_executor.py    # ì£¼ë¬¸ ì‹¤í–‰ ì—”ì§„
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ logger.py            # ë¡œê¹…
â”‚   â””â”€â”€ helpers.py           # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_*.py
â”œâ”€â”€ main.py                   # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â””â”€â”€ requirements.txt
```

### 1.2 í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ìƒì„¸ ì„¤ê³„

#### A. Market Data Collector (`data/market_data.py`)
```python
"""
í´ë˜ìŠ¤: MarketDataCollector
ëª©ì : Match-Trade APIì—ì„œ ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„° ìˆ˜ì§‘

ì£¼ìš” ê¸°ëŠ¥:
- get_candles(): ìº”ë“¤ìŠ¤í‹± ë°ì´í„° ìˆ˜ì§‘ (1m, 5m, 15m)
- get_market_watch(): ì‹¤ì‹œê°„ ì‹œì„¸ ì •ë³´
- get_symbols(): ê±°ë˜ ê°€ëŠ¥í•œ ì‹¬ë³¼ ëª©ë¡
- subscribe_realtime(): WebSocketìœ¼ë¡œ ì‹¤ì‹œê°„ ë°ì´í„° êµ¬ë…

ë°ì´í„° êµ¬ì¡°:
{
    "symbol": "BTCUSD",
    "timestamp": 1234567890,
    "open": 50000,
    "high": 50100,
    "low": 49900,
    "close": 50050,
    "volume": 1234.56,
    "buy_volume": 650.0,
    "sell_volume": 584.56
}
"""
```

#### B. Volume Spike Detector (`analysis/volume_analyzer.py`)
```python
"""
í´ë˜ìŠ¤: VolumeAnalyzer
ëª©ì : ê±°ë˜ëŸ‰ ê¸‰ì¦ ê°ì§€ ë° ë°©í–¥ì„± íŒë‹¨

í•µì‹¬ ì•Œê³ ë¦¬ì¦˜:
1. í‰ê·  ê±°ë˜ëŸ‰ ê³„ì‚° (ì´ë™í‰ê· : 20, 50, 100 ê¸°ê°„)
2. ê±°ë˜ëŸ‰ ì„ê³„ê°’ ì„¤ì • (í‰ê· ì˜ 2ë°°, 3ë°°, 5ë°°)
3. ë§¤ìˆ˜/ë§¤ë„ ê±°ë˜ëŸ‰ ë¹„ìœ¨ ë¶„ì„
4. ê±°ë˜ëŸ‰ ê¸‰ì¦ ì‹œì  ê°ì§€
5. ë°©í–¥ì„± íŒë‹¨ (Long/Short)

ì‹ í˜¸ ìƒì„± ì¡°ê±´:
- ê±°ë˜ëŸ‰ì´ í‰ê· ì˜ 3ë°° ì´ìƒ
- ë§¤ìˆ˜/ë§¤ë„ ë¹„ìœ¨ì´ 60:40 ì´ìƒ
- ê°€ê²©ì´ ì£¼ìš” ì €í•­/ì§€ì§€ì„  ëŒíŒŒ
- ì—°ì† 3ê°œ ìº”ë“¤ ë™ì¼ ë°©í–¥

ë°˜í™˜ ë°ì´í„°:
{
    "signal": "LONG" | "SHORT" | "NEUTRAL",
    "strength": 0.0 ~ 1.0,  # ì‹ í˜¸ ê°•ë„
    "volume_ratio": 3.5,     # í‰ê·  ëŒ€ë¹„ ë°°ìˆ˜
    "buy_sell_ratio": 0.65,  # ë§¤ìˆ˜ ë¹„ì¤‘
    "timestamp": 1234567890
}
"""
```

#### C. Order Book Analyzer (`analysis/orderbook_analyzer.py`)
```python
"""
í´ë˜ìŠ¤: OrderBookAnalyzer
ëª©ì : í˜¸ê°€ì°½ ë¶„ì„ì„ í†µí•œ ë§¤ìˆ˜/ë§¤ë„ ì••ë ¥ ì¸¡ì •

ë¶„ì„ ì§€í‘œ:
1. Bid-Ask Spread (í˜¸ê°€ ìŠ¤í”„ë ˆë“œ)
2. Order Book Imbalance (í˜¸ê°€ ë¶ˆê· í˜•)
3. Large Order Detection (ëŒ€ëŸ‰ ì£¼ë¬¸ ê°ì§€)
4. Support/Resistance Level (ì§€ì§€/ì €í•­ì„ )
5. Liquidity Analysis (ìœ ë™ì„± ë¶„ì„)

ê³„ì‚° ë¡œì§:
- ë§¤ìˆ˜í˜¸ê°€ ì´ëŸ‰ vs ë§¤ë„í˜¸ê°€ ì´ëŸ‰
- ìƒìœ„ 10í˜¸ê°€ ë‚´ ëŒ€ëŸ‰ ì£¼ë¬¸ ë¹„ì¤‘
- í˜¸ê°€ ë°€ì§‘ êµ¬ê°„ íŒŒì•…
- ê¸‰ê²©í•œ í˜¸ê°€ ë³€í™” ê°ì§€

ë°˜í™˜ ë°ì´í„°:
{
    "imbalance_ratio": 0.65,  # 0.5ë³´ë‹¤ í¬ë©´ ë§¤ìˆ˜ ìš°ì„¸
    "spread_bps": 5,           # ìŠ¤í”„ë ˆë“œ (basis points)
    "large_bid_detected": true,
    "resistance_level": 50100,
    "support_level": 49900,
    "liquidity_score": 0.8
}
"""
```

#### D. Scalping Strategy (`strategy/scalping_strategy.py`)
```python
"""
í´ë˜ìŠ¤: ScalpingStrategy
ëª©ì : í†µí•© ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë§¤ë§¤ ì „ëµ ì‹¤í–‰

ì „ëµ ë¡œì§:
1. ê±°ë˜ëŸ‰ ê¸‰ì¦ ê°ì§€
2. í˜¸ê°€ì°½ ë¶ˆê· í˜• í™•ì¸
3. ì°¨íŠ¸ íŒ¨í„´ ê²€ì¦
4. ì§„ì… ì¡°ê±´ ì¶©ì¡± ì‹œ ì‹ í˜¸ ìƒì„±

ì§„ì… ì¡°ê±´ (AND ì¡°ê±´):
- ê±°ë˜ëŸ‰ì´ í‰ê· ì˜ 3ë°° ì´ìƒ
- í˜¸ê°€ ë¶ˆê· í˜• ë¹„ìœ¨ > 0.6
- ê°€ê²©ì´ 5ë¶„ ì´ë™í‰ê· ì„  ëŒíŒŒ
- RSIê°€ ê³¼ë§¤ìˆ˜/ê³¼ë§¤ë„ êµ¬ê°„ ì•„ë‹˜

ì²­ì‚° ì¡°ê±´ (OR ì¡°ê±´):
- ëª©í‘œ ìˆ˜ìµë¥  ë‹¬ì„± (0.3% ~ 0.5%)
- ì†ì ˆê°€ ë„ë‹¬ (-0.2% ~ -0.3%)
- ë°˜ëŒ€ ë°©í–¥ ì‹ í˜¸ ë°œìƒ
- ìµœëŒ€ ë³´ìœ  ì‹œê°„ ì´ˆê³¼ (1ë¶„ ~ 5ë¶„)

í¬ì§€ì…˜ ì‚¬ì´ì§•:
- ê³„ì¢Œ ì”ì•¡ì˜ 1% ~ 5% ìœ„í—˜
- ë ˆë²„ë¦¬ì§€ ê³ ë ¤í•œ ì¦ê±°ê¸ˆ ê³„ì‚°
- ë™ì‹œ ìµœëŒ€ í¬ì§€ì…˜ ìˆ˜ ì œí•œ

ë°˜í™˜ ë°ì´í„°:
{
    "action": "OPEN_LONG" | "OPEN_SHORT" | "CLOSE" | "HOLD",
    "symbol": "BTCUSD",
    "entry_price": 50000,
    "quantity": 0.1,
    "stop_loss": 49900,
    "take_profit": 50150,
    "confidence": 0.85,
    "reason": "Volume spike + OB imbalance + Breakout"
}
"""
```

### 1.3 Claude Code ì—ì´ì „íŠ¸ ì§€ì‹œì‚¬í•­ (Phase 1)

```
TASK 1.1: Trading Engine í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
- Python 3.11+ ê°€ìƒí™˜ê²½ ìƒì„±
- requirements.txt ì‘ì„± (asyncio, aiohttp, pandas, numpy, ta-lib, websockets, pydantic)
- í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° ìƒì„±
- ê¸°ë³¸ ì„¤ì • íŒŒì¼ ì‘ì„± (config/settings.py)

TASK 1.2: Market Data Collector êµ¬í˜„
- Match-Trade API ì—°ë™ í´ë˜ìŠ¤ ì‘ì„±
- GET /market-watch ì—”ë“œí¬ì¸íŠ¸ ì—°ë™
- GET /candles ì—”ë“œí¬ì¸íŠ¸ ì—°ë™
- GET /symbols ì—”ë“œí¬ì¸íŠ¸ ì—°ë™
- ì‹¤ì‹œê°„ ë°ì´í„° ìºì‹± ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

TASK 1.3: Volume Analyzer êµ¬í˜„
- ê±°ë˜ëŸ‰ ë°ì´í„° ìˆ˜ì§‘ ë° ì €ì¥
- ì´ë™í‰ê·  ê³„ì‚° í•¨ìˆ˜
- ê±°ë˜ëŸ‰ ê¸‰ì¦ ê°ì§€ ì•Œê³ ë¦¬ì¦˜
- ë§¤ìˆ˜/ë§¤ë„ ê±°ë˜ëŸ‰ ë¶„ë¦¬ ë° ë¹„ìœ¨ ê³„ì‚°
- ì‹ í˜¸ ê°•ë„ ê³„ì‚° ë¡œì§
- ë°±í…ŒìŠ¤íŒ…ì„ ìœ„í•œ íˆìŠ¤í† ë¦¬ ë°ì´í„° ì €ì¥

TASK 1.4: OrderBook Analyzer êµ¬í˜„
- í˜¸ê°€ì°½ ë°ì´í„° íŒŒì‹±
- í˜¸ê°€ ë¶ˆê· í˜• ê³„ì‚°
- ëŒ€ëŸ‰ ì£¼ë¬¸ ê°ì§€ ë¡œì§
- ì§€ì§€/ì €í•­ ë ˆë²¨ ê³„ì‚°
- ìœ ë™ì„± ì ìˆ˜ ì‚°ì¶œ

TASK 1.5: Scalping Strategy êµ¬í˜„
- ëª¨ë“  ë¶„ì„ ëª¨ë“ˆ í†µí•©
- ì§„ì…/ì²­ì‚° ì¡°ê±´ ë¡œì§
- í¬ì§€ì…˜ ì‚¬ì´ì§• ê³„ì‚°
- ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë¡œì§
- ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ êµ¬í˜„

TASK 1.6: Order Executor êµ¬í˜„
- ì£¼ë¬¸ ì‹¤í–‰ ì¸í„°í˜ì´ìŠ¤
- ì£¼ë¬¸ ê²€ì¦ ë¡œì§
- ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜
- ì£¼ë¬¸ ìƒíƒœ ì¶”ì 
- ì—ëŸ¬ í•¸ë“¤ë§

TASK 1.7: í†µí•© í…ŒìŠ¤íŠ¸ ë° ìµœì í™”
- ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸
- ì„±ëŠ¥ ìµœì í™” (ë¹„ë™ê¸° ì²˜ë¦¬)
- ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶•
- ë°±í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ êµ¬í˜„
```

---

## ğŸ“¦ Phase 2: Back Office Server (ë‹¤ì¤‘ ê³„ì • ê´€ë¦¬)

### 2.1 í”„ë¡œì íŠ¸ êµ¬ì¡°
```
back_office_server/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py              # FastAPI ì•±
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ settings.py
â”‚   â”‚   â””â”€â”€ database.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ user.py          # ìœ ì € ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ order.py         # ì£¼ë¬¸ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ position.py      # í¬ì§€ì…˜ ëª¨ë¸
â”‚   â”‚   â””â”€â”€ trade_history.py # ê±°ë˜ ë‚´ì—­
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ order.py
â”‚   â”‚   â””â”€â”€ response.py
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth.py          # ì¸ì¦ API
â”‚   â”‚   â”œâ”€â”€ users.py         # ìœ ì € ê´€ë¦¬ API
â”‚   â”‚   â”œâ”€â”€ trading.py       # ê±°ë˜ API
â”‚   â”‚   â”œâ”€â”€ dashboard.py     # ëŒ€ì‹œë³´ë“œ API
â”‚   â”‚   â””â”€â”€ websocket.py     # WebSocket ì—”ë“œí¬ì¸íŠ¸
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth_service.py          # ì¸ì¦ ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ user_manager.py          # ìœ ì € ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ session_manager.py       # ì„¸ì…˜ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ order_orchestrator.py    # ì£¼ë¬¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”‚   â”‚   â”œâ”€â”€ mt_api_client.py         # Match-Trade API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ trading_engine_client.py # Trading Engine ì—°ë™
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ logger.py
â”‚   â”‚   â”œâ”€â”€ encryption.py    # ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
â”‚   â”‚   â””â”€â”€ validators.py
â”‚   â””â”€â”€ db/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ base.py
â”‚       â””â”€â”€ migrations/
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_*.py
â”œâ”€â”€ alembic/                  # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile
â””â”€â”€ requirements.txt
```

### 2.2 í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ìƒì„¸ ì„¤ê³„

#### A. Database Schema
```sql
-- users í…Œì´ë¸”: ìœ ì € ë¡œê·¸ì¸ ì •ë³´
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    encrypted_password TEXT NOT NULL,
    broker_id VARCHAR(100) NOT NULL,
    name VARCHAR(100),
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- user_sessions í…Œì´ë¸”: ë¡œê·¸ì¸ ì„¸ì…˜
CREATE TABLE user_sessions (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    token TEXT NOT NULL,
    trading_api_token TEXT NOT NULL,
    trading_account_id VARCHAR(100),
    login_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    expires_at TIMESTAMP,
    is_active BOOLEAN DEFAULT true,
    last_refresh_at TIMESTAMP
);

-- accounts í…Œì´ë¸”: ê³„ì • ì •ë³´
CREATE TABLE accounts (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    trading_account_uuid VARCHAR(100) UNIQUE,
    balance DECIMAL(18, 8),
    equity DECIMAL(18, 8),
    margin DECIMAL(18, 8),
    free_margin DECIMAL(18, 8),
    leverage INTEGER,
    currency VARCHAR(10),
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- orders í…Œì´ë¸”: ì£¼ë¬¸ ë‚´ì—­
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    account_id INTEGER REFERENCES accounts(id),
    order_uuid VARCHAR(100) UNIQUE,
    symbol VARCHAR(50) NOT NULL,
    side VARCHAR(10) NOT NULL, -- LONG/SHORT
    order_type VARCHAR(20), -- MARKET/LIMIT
    quantity DECIMAL(18, 8),
    entry_price DECIMAL(18, 8),
    stop_loss DECIMAL(18, 8),
    take_profit DECIMAL(18, 8),
    status VARCHAR(20), -- PENDING/OPEN/CLOSED/CANCELLED
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    executed_at TIMESTAMP,
    closed_at TIMESTAMP
);

-- trades í…Œì´ë¸”: ì²´ê²°ëœ ê±°ë˜
CREATE TABLE trades (
    id SERIAL PRIMARY KEY,
    order_id INTEGER REFERENCES orders(id),
    user_id INTEGER REFERENCES users(id),
    symbol VARCHAR(50),
    side VARCHAR(10),
    entry_price DECIMAL(18, 8),
    exit_price DECIMAL(18, 8),
    quantity DECIMAL(18, 8),
    profit_loss DECIMAL(18, 8),
    profit_loss_percent DECIMAL(10, 4),
    commission DECIMAL(18, 8),
    duration_seconds INTEGER,
    executed_at TIMESTAMP,
    closed_at TIMESTAMP
);

-- trading_signals í…Œì´ë¸”: íŠ¸ë ˆì´ë”© ì‹ í˜¸ ë¡œê·¸
CREATE TABLE trading_signals (
    id SERIAL PRIMARY KEY,
    symbol VARCHAR(50),
    signal_type VARCHAR(10), -- LONG/SHORT/CLOSE
    strength DECIMAL(5, 4),
    volume_ratio DECIMAL(10, 4),
    orderbook_imbalance DECIMAL(5, 4),
    price DECIMAL(18, 8),
    reason TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- system_logs í…Œì´ë¸”: ì‹œìŠ¤í…œ ë¡œê·¸
CREATE TABLE system_logs (
    id SERIAL PRIMARY KEY,
    log_level VARCHAR(20),
    component VARCHAR(100),
    message TEXT,
    metadata JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_sessions_user_id ON user_sessions(user_id);
CREATE INDEX idx_sessions_active ON user_sessions(is_active);
CREATE INDEX idx_orders_user_id ON orders(user_id);
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_trades_user_id ON trades(user_id);
CREATE INDEX idx_trades_executed_at ON trades(executed_at);
CREATE INDEX idx_signals_created_at ON trading_signals(created_at);
```

#### B. Session Manager (`services/session_manager.py`)
```python
"""
í´ë˜ìŠ¤: SessionManager
ëª©ì : ë‹¤ì¤‘ ìœ ì € ì„¸ì…˜ ë™ì‹œ ê´€ë¦¬

ì£¼ìš” ê¸°ëŠ¥:
1. ë‹¤ì¤‘ ìœ ì € ë™ì‹œ ë¡œê·¸ì¸
   - ë³‘ë ¬ ë¡œê·¸ì¸ ì²˜ë¦¬ (asyncio.gather)
   - ë¡œê·¸ì¸ ì‹¤íŒ¨ ì¬ì‹œë„ ë¡œì§
   - ì„¸ì…˜ ì •ë³´ DB ì €ì¥

2. ì„¸ì…˜ ìœ ì§€ ë° ê°±ì‹ 
   - 15ë¶„ë§ˆë‹¤ ìë™ í† í° ê°±ì‹ 
   - ê°±ì‹  ì‹¤íŒ¨ ì‹œ ì¬ë¡œê·¸ì¸
   - ì„¸ì…˜ ìƒíƒœ ëª¨ë‹ˆí„°ë§

3. ì„¸ì…˜ í’€ ê´€ë¦¬
   - í™œì„± ì„¸ì…˜ ëª©ë¡ ê´€ë¦¬
   - ì„¸ì…˜ í—¬ìŠ¤ì²´í¬
   - ë¹„í™œì„± ì„¸ì…˜ ì •ë¦¬

ë©”ì„œë“œ:
- async login_all_users(): ëª¨ë“  ìœ ì € ë™ì‹œ ë¡œê·¸ì¸
- async login_user(user_id): íŠ¹ì • ìœ ì € ë¡œê·¸ì¸
- async refresh_token(session_id): í† í° ê°±ì‹ 
- async check_session_health(): ì„¸ì…˜ ìƒíƒœ í™•ì¸
- async logout_user(user_id): ìœ ì € ë¡œê·¸ì•„ì›ƒ
- get_active_sessions(): í™œì„± ì„¸ì…˜ ëª©ë¡ ì¡°íšŒ

ë°˜í™˜ ë°ì´í„°:
{
    "user_id": 1,
    "email": "user@example.com",
    "session_id": "abc123",
    "is_active": true,
    "token": "eyJ...",
    "trading_api_token": "Bearer xyz...",
    "trading_account_id": "acc_123",
    "login_at": "2025-01-01T00:00:00Z",
    "expires_at": "2025-01-01T00:15:00Z"
}
"""
```

#### C. Order Orchestrator (`services/order_orchestrator.py`)
```python
"""
í´ë˜ìŠ¤: OrderOrchestrator
ëª©ì : ëª¨ë“  í™œì„± ìœ ì €ì—ê²Œ ë™ì‹œì— ì£¼ë¬¸ ì‹¤í–‰

í•µì‹¬ ê¸°ëŠ¥:
1. ì‹ í˜¸ ìˆ˜ì‹  ë° ê²€ì¦
   - Trading Engineìœ¼ë¡œë¶€í„° ì‹ í˜¸ ìˆ˜ì‹ 
   - ì‹ í˜¸ ìœ íš¨ì„± ê²€ì¦
   - ë¦¬ìŠ¤í¬ ì²´í¬

2. ë™ì‹œ ì£¼ë¬¸ ì‹¤í–‰
   - ëª¨ë“  í™œì„± ì„¸ì…˜ ì¡°íšŒ
   - ë³‘ë ¬ ì£¼ë¬¸ ì‹¤í–‰ (asyncio.gather)
   - ì£¼ë¬¸ ê²°ê³¼ ìˆ˜ì§‘ ë° ê²€ì¦

3. ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬
   - ì£¼ë¬¸ ìƒíƒœ DB ì €ì¥
   - ì‹¤íŒ¨í•œ ì£¼ë¬¸ ì¬ì‹œë„
   - ì£¼ë¬¸ ì²´ê²° í™•ì¸

4. í¬ì§€ì…˜ ë™ê¸°í™”
   - ì£¼ë¬¸ ì²´ê²° í›„ í¬ì§€ì…˜ ì—…ë°ì´íŠ¸
   - ì”ê³  ì •ë³´ ê°±ì‹ 
   - ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸

ì£¼ìš” ë©”ì„œë“œ:
- async execute_signal_for_all(signal: TradingSignal):
    ëª¨ë“  ìœ ì €ì—ê²Œ ë™ì¼ ì‹ í˜¸ë¡œ ì£¼ë¬¸ ì‹¤í–‰
    
- async execute_order_batch(orders: List[OrderRequest]):
    ì—¬ëŸ¬ ì£¼ë¬¸ì„ ë™ì‹œì— ì‹¤í–‰
    
- async monitor_open_positions():
    ì—´ë¦° í¬ì§€ì…˜ ëª¨ë‹ˆí„°ë§ ë° ì²­ì‚° ì¡°ê±´ ì²´í¬
    
- async close_all_positions(symbol: str):
    íŠ¹ì • ì‹¬ë³¼ì˜ ëª¨ë“  í¬ì§€ì…˜ ì²­ì‚°

ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤:
1. Trading Engineì—ì„œ ì‹ í˜¸ ìˆ˜ì‹ 
   {"signal": "LONG", "symbol": "BTCUSD", "entry": 50000, ...}

2. í™œì„± ì„¸ì…˜ ì¡°íšŒ (10ëª…ì˜ ìœ ì €ê°€ ë¡œê·¸ì¸ ì¤‘)
   
3. ê° ìœ ì €ë³„ ì£¼ë¬¸ ìƒì„±
   - ê³„ì • ì”ê³  í™•ì¸
   - í¬ì§€ì…˜ ì‚¬ì´ì¦ˆ ê³„ì‚°
   - ì£¼ë¬¸ íŒŒë¼ë¯¸í„° ìƒì„±

4. ë™ì‹œ ì£¼ë¬¸ ì‹¤í–‰ (asyncio.gather)
   ```python
   tasks = [
       execute_order_for_user(user1, order_params),
       execute_order_for_user(user2, order_params),
       ...
       execute_order_for_user(user10, order_params)
   ]
   results = await asyncio.gather(*tasks, return_exceptions=True)
   ```

5. ê²°ê³¼ ì²˜ë¦¬
   - ì„±ê³µ: DBì— ì£¼ë¬¸ ê¸°ë¡, ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
   - ì‹¤íŒ¨: ì—ëŸ¬ ë¡œê¹…, ì•Œë¦¼ ë°œì†¡, ì¬ì‹œë„ íì— ì¶”ê°€

6. í¬ì§€ì…˜ ëª¨ë‹ˆí„°ë§ ì‹œì‘
   - ëª©í‘œê°€/ì†ì ˆê°€ ë„ë‹¬ í™•ì¸
   - ë°˜ëŒ€ ì‹ í˜¸ ë°œìƒ ì‹œ ì²­ì‚°
   - ìµœëŒ€ ë³´ìœ  ì‹œê°„ ì²´í¬

ë°˜í™˜ ë°ì´í„°:
{
    "signal_id": "sig_123",
    "symbol": "BTCUSD",
    "executed_count": 10,
    "failed_count": 0,
    "total_volume": 1.5,
    "execution_time_ms": 234,
    "results": [
        {
            "user_id": 1,
            "order_id": "ord_123",
            "status": "SUCCESS",
            "executed_price": 50000.5
        },
        ...
    ]
}
"""
```

#### D. Match-Trade API Client (`services/mt_api_client.py`)
```python
"""
í´ë˜ìŠ¤: MatchTradeAPIClient
ëª©ì : Match-Trade Platform APIì™€ì˜ ëª¨ë“  í†µì‹  ì²˜ë¦¬

API ë¬¸ì„œ ì°¸ì¡°: /mnt/user-data/outputs/match_trade_api_complete_documentation.json

ì£¼ìš” ë©”ì„œë“œ:

# ì¸ì¦
- async login(email, password, broker_id) -> SessionData
- async refresh_token(token) -> SessionData
- async logout(token) -> bool

# ê³„ì • ì •ë³´
- async get_balance(token, trading_api_token) -> BalanceInfo
- async get_platform_details(token) -> PlatformDetails

# ì‹œì¥ ë°ì´í„°
- async get_market_watch(token, trading_api_token) -> MarketData
- async get_symbols(token, trading_api_token) -> List[Symbol]
- async get_candles(token, trading_api_token, symbol, timeframe) -> List[Candle]

# í¬ì§€ì…˜ ê´€ë¦¬
- async get_opened_positions(token, trading_api_token) -> List[Position]
- async open_position(token, trading_api_token, order_params) -> Position
- async edit_position(token, trading_api_token, position_id, params) -> Position
- async close_position(token, trading_api_token, position_id) -> CloseResult
- async partial_close(token, trading_api_token, position_id, volume) -> Position
- async get_closed_positions(token, trading_api_token, filters) -> List[Position]

# ì£¼ë¬¸ ê´€ë¦¬
- async get_active_orders(token, trading_api_token) -> List[Order]
- async create_pending_order(token, trading_api_token, order_params) -> Order
- async edit_pending_order(token, trading_api_token, order_id, params) -> Order
- async cancel_pending_order(token, trading_api_token, order_id) -> bool

ì—ëŸ¬ ì²˜ë¦¬:
- 401 Unauthorized: ìë™ í† í° ê°±ì‹  í›„ ì¬ì‹œë„
- 400 Bad Request: ìš”ì²­ ê²€ì¦ ë° ì—ëŸ¬ ë°˜í™˜
- 410 Gone: ë¦¬ì†ŒìŠ¤ ë§Œë£Œ ì²˜ë¦¬
- Network Error: ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„ (ìµœëŒ€ 3íšŒ)
- Rate Limit: ìš”ì²­ ëŒ€ê¸° í›„ ì¬ì‹œë„

ë°˜í™˜ ì˜ˆì‹œ:
{
    "success": true,
    "data": {
        "position_id": "pos_123",
        "symbol": "BTCUSD",
        "side": "LONG",
        "volume": 0.1,
        "entry_price": 50000,
        "current_price": 50150,
        "profit_loss": 15.0,
        "profit_loss_percent": 0.3
    },
    "error": null
}
"""
```

### 2.3 API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„

```yaml
# ìœ ì € ê´€ë¦¬ API
POST   /api/v1/users                    # ìœ ì € ìƒì„±
GET    /api/v1/users                    # ìœ ì € ëª©ë¡ ì¡°íšŒ
GET    /api/v1/users/{user_id}          # ìœ ì € ìƒì„¸ ì¡°íšŒ
PUT    /api/v1/users/{user_id}          # ìœ ì € ì •ë³´ ìˆ˜ì •
DELETE /api/v1/users/{user_id}          # ìœ ì € ì‚­ì œ
POST   /api/v1/users/{user_id}/login    # ìœ ì € ë¡œê·¸ì¸ ì‹¤í–‰
POST   /api/v1/users/{user_id}/logout   # ìœ ì € ë¡œê·¸ì•„ì›ƒ
POST   /api/v1/users/login-all          # ëª¨ë“  ìœ ì € ë™ì‹œ ë¡œê·¸ì¸

# ì„¸ì…˜ ê´€ë¦¬ API
GET    /api/v1/sessions                 # í™œì„± ì„¸ì…˜ ëª©ë¡
GET    /api/v1/sessions/{session_id}    # ì„¸ì…˜ ìƒì„¸ ì •ë³´
POST   /api/v1/sessions/refresh-all     # ëª¨ë“  ì„¸ì…˜ í† í° ê°±ì‹ 
DELETE /api/v1/sessions/{session_id}    # ì„¸ì…˜ ì¢…ë£Œ

# ê³„ì • ì •ë³´ API
GET    /api/v1/accounts                 # ëª¨ë“  ê³„ì • ì •ë³´
GET    /api/v1/accounts/{account_id}    # íŠ¹ì • ê³„ì • ìƒì„¸
POST   /api/v1/accounts/sync            # ê³„ì • ì •ë³´ ë™ê¸°í™”

# ê±°ë˜ API
POST   /api/v1/trading/signal           # íŠ¸ë ˆì´ë”© ì‹ í˜¸ ì „ì†¡
POST   /api/v1/trading/execute-all      # ëª¨ë“  ìœ ì € ë™ì‹œ ì£¼ë¬¸
GET    /api/v1/trading/positions        # ëª¨ë“  í¬ì§€ì…˜ ì¡°íšŒ
POST   /api/v1/trading/close-all        # ëª¨ë“  í¬ì§€ì…˜ ì²­ì‚°
GET    /api/v1/trading/orders           # ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ

# ëŒ€ì‹œë³´ë“œ API
GET    /api/v1/dashboard/overview       # ëŒ€ì‹œë³´ë“œ ìš”ì•½ ì •ë³´
GET    /api/v1/dashboard/users          # ìœ ì €ë³„ í˜„í™©
GET    /api/v1/dashboard/performance    # ì„±ê³¼ ë¶„ì„
GET    /api/v1/dashboard/trades         # ê±°ë˜ ë‚´ì—­

# WebSocket
WS     /ws/dashboard                    # ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
WS     /ws/trading                      # ì‹¤ì‹œê°„ ê±°ë˜ ì‹ í˜¸
WS     /ws/positions                    # ì‹¤ì‹œê°„ í¬ì§€ì…˜ ì—…ë°ì´íŠ¸
```

### 2.4 Claude Code ì—ì´ì „íŠ¸ ì§€ì‹œì‚¬í•­ (Phase 2)

```
TASK 2.1: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
- FastAPI í”„ë¡œì íŠ¸ ìƒì„±
- PostgreSQL Docker ì»¨í…Œì´ë„ˆ ì„¤ì •
- Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ˆê¸°í™”
- requirements.txt ì‘ì„± (fastapi, sqlalchemy, asyncpg, pydantic, etc.)

TASK 2.2: ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ëª¨ë¸ ìƒì„±
- SQLAlchemy ëª¨ë¸ ì‘ì„± (users, sessions, accounts, orders, trades)
- Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„±
- ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸

TASK 2.3: Match-Trade API Client êµ¬í˜„
- API ë¬¸ì„œ ê¸°ë°˜ í´ë¼ì´ì–¸íŠ¸ í´ë˜ìŠ¤ ì‘ì„±
- ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ë©”ì„œë“œ êµ¬í˜„
- ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

TASK 2.4: Session Manager êµ¬í˜„
- ë‹¤ì¤‘ ìœ ì € ë¡œê·¸ì¸ ë¡œì§
- ì„¸ì…˜ í’€ ê´€ë¦¬
- ìë™ í† í° ê°±ì‹  (ë°±ê·¸ë¼ìš´ë“œ íƒœìŠ¤í¬)
- ì„¸ì…˜ í—¬ìŠ¤ì²´í¬

TASK 2.5: Order Orchestrator êµ¬í˜„
- ì‹ í˜¸ ìˆ˜ì‹  ë° ê²€ì¦
- ë³‘ë ¬ ì£¼ë¬¸ ì‹¤í–‰ ë¡œì§
- ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬
- í¬ì§€ì…˜ ëª¨ë‹ˆí„°ë§

TASK 2.6: REST API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- ìœ ì € ê´€ë¦¬ API
- ì„¸ì…˜ ê´€ë¦¬ API
- ê³„ì • ì •ë³´ API
- ê±°ë˜ API
- ëŒ€ì‹œë³´ë“œ API

TASK 2.7: WebSocket êµ¬í˜„
- ì‹¤ì‹œê°„ ë°ì´í„° ë¸Œë¡œë“œìºìŠ¤íŠ¸
- í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ê´€ë¦¬
- ì´ë²¤íŠ¸ ê¸°ë°˜ ì—…ë°ì´íŠ¸

TASK 2.8: ë°±ê·¸ë¼ìš´ë“œ íƒœìŠ¤í¬
- ì„¸ì…˜ ìë™ ê°±ì‹  ìŠ¤ì¼€ì¤„ëŸ¬
- í¬ì§€ì…˜ ëª¨ë‹ˆí„°ë§ ì›Œì»¤
- ê³„ì • ì •ë³´ ë™ê¸°í™” íƒœìŠ¤í¬

TASK 2.9: í†µí•© ë° í…ŒìŠ¤íŠ¸
- Trading Engine ì—°ë™ í…ŒìŠ¤íŠ¸
- Match-Trade API í†µí•© í…ŒìŠ¤íŠ¸
- ë¶€í•˜ í…ŒìŠ¤íŠ¸ (ë‹¤ì¤‘ ìœ ì € ë™ì‹œ ì²˜ë¦¬)
- ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
```

---

## ğŸ“¦ Phase 3: Frontend Dashboard

### 3.1 í”„ë¡œì íŠ¸ êµ¬ì¡°
```
dashboard/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Layout.tsx
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ UserList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ UserCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ UserForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ LoginStatus.tsx
â”‚   â”‚   â”œâ”€â”€ accounts/
â”‚   â”‚   â”‚   â”œâ”€â”€ BalanceCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AccountSummary.tsx
â”‚   â”‚   â”‚   â””â”€â”€ AccountDetails.tsx
â”‚   â”‚   â”œâ”€â”€ trading/
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderTable.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PositionTable.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TradeHistory.tsx
â”‚   â”‚   â”‚   â””â”€â”€ SignalPanel.tsx
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ Overview.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PerformanceChart.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfitLossChart.tsx
â”‚   â”‚   â”‚   â””â”€â”€ StatsCard.tsx
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚       â”œâ”€â”€ Table.tsx
â”‚   â”‚       â”œâ”€â”€ Button.tsx
â”‚   â”‚       â”œâ”€â”€ Modal.tsx
â”‚   â”‚       â””â”€â”€ LoadingSpinner.tsx
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx           # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ Users.tsx               # ìœ ì € ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ Trading.tsx             # ê±°ë˜ í˜„í™©
â”‚   â”‚   â”œâ”€â”€ History.tsx             # ê±°ë˜ ë‚´ì—­
â”‚   â”‚   â”œâ”€â”€ Analytics.tsx           # ì„±ê³¼ ë¶„ì„
â”‚   â”‚   â””â”€â”€ Settings.tsx            # ì„¤ì •
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useWebSocket.ts         # WebSocket í›…
â”‚   â”‚   â”œâ”€â”€ useAPI.ts               # API í˜¸ì¶œ í›…
â”‚   â”‚   â””â”€â”€ useAuth.ts              # ì¸ì¦ í›…
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api.ts                  # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ websocket.ts            # WebSocket í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â”œâ”€â”€ order.ts
â”‚   â”‚   â”œâ”€â”€ position.ts
â”‚   â”‚   â””â”€â”€ dashboard.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ formatter.ts            # ë°ì´í„° í¬ë§·íŒ…
â”‚   â”‚   â””â”€â”€ constants.ts            # ìƒìˆ˜ ì •ì˜
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ index.tsx
â”‚   â””â”€â”€ index.css
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ tailwind.config.js
```

### 3.2 í™”ë©´ ì„¤ê³„

#### A. ë©”ì¸ ëŒ€ì‹œë³´ë“œ (`/`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header: ì„ ë¬¼ ìë™ ê±°ë˜ ì‹œìŠ¤í…œ                  [Admin â–¼]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Sidebar  â”‚                                                   â”‚
â”‚          â”‚  ğŸ“Š Overview (ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸)                     â”‚
â”‚ ëŒ€ì‹œë³´ë“œ   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ ìœ ì €ê´€ë¦¬   â”‚  â”‚ ì´ ìœ ì €  â”‚ í™œì„±ì„¸ì…˜ â”‚ ì´ ì”ê³   â”‚  ì´ ìˆ˜ìµ â”‚  â”‚
â”‚ ê±°ë˜í˜„í™©   â”‚  â”‚   15ëª…   â”‚  12ëª…   â”‚ $45,230  â”‚ +$2,345  â”‚  â”‚
â”‚ ê±°ë˜ë‚´ì—­   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ ì„±ê³¼ë¶„ì„   â”‚                                                   â”‚
â”‚ ì„¤ì •      â”‚  ğŸ“ˆ Performance Chart (24ì‹œê°„)                    â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚          â”‚  â”‚  [ìˆ˜ìµë¥  ë¼ì¸ ì°¨íŠ¸]                         â”‚ â”‚
â”‚          â”‚  â”‚                                             â”‚ â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚                                                   â”‚
â”‚          â”‚  ğŸ”„ Active Positions (ì‹¤ì‹œê°„)                     â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚          â”‚  â”‚ User  â”‚ Symbol â”‚ Side â”‚ Size â”‚ P&L â”‚ ROI   â”‚ â”‚
â”‚          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚          â”‚  â”‚ user1 â”‚ BTCUSD â”‚ LONG â”‚ 0.1  â”‚+$15 â”‚ +0.3% â”‚ â”‚
â”‚          â”‚  â”‚ user2 â”‚ BTCUSD â”‚ LONG â”‚ 0.1  â”‚+$12 â”‚ +0.24%â”‚ â”‚
â”‚          â”‚  â”‚ ...   â”‚        â”‚      â”‚      â”‚     â”‚       â”‚ â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚                                                   â”‚
â”‚          â”‚  ğŸ“‹ Recent Trades                                 â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚          â”‚  â”‚ Time  â”‚ User  â”‚ Symbol â”‚ P&L â”‚ Duration    â”‚ â”‚
â”‚          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚          â”‚  â”‚ 14:32 â”‚ user1 â”‚ BTCUSD â”‚+$8  â”‚ 2m 15s      â”‚ â”‚
â”‚          â”‚  â”‚ 14:30 â”‚ user2 â”‚ ETHUSD â”‚+$5  â”‚ 1m 45s      â”‚ â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

íŠ¹ì§•:
- ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ (WebSocket)
- ìƒ‰ìƒ ì½”ë”© (ìˆ˜ìµ: ë…¹ìƒ‰, ì†ì‹¤: ë¹¨ê°•)
- ìë™ ìƒˆë¡œê³ ì¹¨
- ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
```

#### B. ìœ ì € ê´€ë¦¬ í˜ì´ì§€ (`/users`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¥ User Management                      [+ Add User]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  ğŸ” Search: [________]  Filter: [All â–¼]  [Refresh] [Login All]â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ User â”‚ Email           â”‚ Status  â”‚ Balance â”‚ Actions  â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸŸ¢   â”‚ user1@email.com â”‚ Active  â”‚ $5,234  â”‚ [Edit]   â”‚  â”‚
â”‚  â”‚      â”‚                 â”‚ Logged  â”‚         â”‚ [Logout] â”‚  â”‚
â”‚  â”‚      â”‚                 â”‚         â”‚         â”‚ [Delete] â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ”´   â”‚ user2@email.com â”‚ Offline â”‚ $3,156  â”‚ [Edit]   â”‚  â”‚
â”‚  â”‚      â”‚                 â”‚         â”‚         â”‚ [Login]  â”‚  â”‚
â”‚  â”‚      â”‚                 â”‚         â”‚         â”‚ [Delete] â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸŸ¢   â”‚ user3@email.com â”‚ Active  â”‚ $4,891  â”‚ [Edit]   â”‚  â”‚
â”‚  â”‚      â”‚                 â”‚ Logged  â”‚         â”‚ [Logout] â”‚  â”‚
â”‚  â”‚      â”‚                 â”‚         â”‚         â”‚ [Delete] â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  Bulk Actions: [Select All] [Login Selected] [Logout Selected]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê¸°ëŠ¥:
- ìœ ì € ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ
- ê°œë³„ ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
- ì „ì²´ ìœ ì € ë™ì‹œ ë¡œê·¸ì¸
- ë¡œê·¸ì¸ ìƒíƒœ ì‹¤ì‹œê°„ í‘œì‹œ
- ì”ê³  ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
```

#### C. ê±°ë˜ í˜„í™© í˜ì´ì§€ (`/trading`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š Trading Overview                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  ğŸ¯ Latest Signal                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ LONG BTCUSD @ 50,000                                â”‚    â”‚
â”‚  â”‚ Strength: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 85%                            â”‚    â”‚
â”‚  â”‚ Reason: Volume spike + OB imbalance                 â”‚    â”‚
â”‚  â”‚ Time: 2 seconds ago                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  ğŸ“ˆ Open Positions (12 active)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ User    â”‚Symbol â”‚Side â”‚Entry  â”‚Currentâ”‚ P&L  â”‚ROI  â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ user1   â”‚BTCUSD â”‚LONG â”‚50,000 â”‚50,150 â”‚+$15  â”‚+0.3%â”‚    â”‚
â”‚  â”‚ user2   â”‚BTCUSD â”‚LONG â”‚50,001 â”‚50,150 â”‚+$14.9â”‚+0.3%â”‚    â”‚
â”‚  â”‚ user3   â”‚BTCUSD â”‚LONG â”‚50,002 â”‚50,150 â”‚+$14.8â”‚+0.3%â”‚    â”‚
â”‚  â”‚ ...     â”‚       â”‚     â”‚       â”‚       â”‚      â”‚     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  [Close All Positions]                                        â”‚
â”‚                                                               â”‚
â”‚  ğŸ“ Active Orders (0)                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ No active pending orders                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê¸°ëŠ¥:
- ì‹¤ì‹œê°„ ì‹ í˜¸ í‘œì‹œ
- í¬ì§€ì…˜ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- ì¼ê´„ ì²­ì‚° ê¸°ëŠ¥
- P&L ìƒ‰ìƒ í‘œì‹œ
- í¬ì§€ì…˜ ìƒì„¸ ë³´ê¸° (í´ë¦­)
```

#### D. ê±°ë˜ ë‚´ì—­ í˜ì´ì§€ (`/history`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ Trade History                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Filter: [Today â–¼] [All Users â–¼] [All Symbols â–¼]  [Export CSV]â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚Time  â”‚User  â”‚Symbol â”‚Side â”‚Entry â”‚Exit  â”‚P&L â”‚Durationâ”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚14:32 â”‚user1 â”‚BTCUSD â”‚LONG â”‚50000 â”‚50080 â”‚+$8 â”‚2m 15s â”‚  â”‚
â”‚  â”‚14:30 â”‚user2 â”‚ETHUSD â”‚LONG â”‚3000  â”‚3015  â”‚+$5 â”‚1m 45s â”‚  â”‚
â”‚  â”‚14:28 â”‚user3 â”‚BTCUSD â”‚SHORTâ”‚50100 â”‚50050 â”‚+$5 â”‚3m 12s â”‚  â”‚
â”‚  â”‚14:25 â”‚user1 â”‚BTCUSD â”‚LONG â”‚49950 â”‚49940 â”‚-$1 â”‚0m 58s â”‚  â”‚
â”‚  â”‚...   â”‚      â”‚       â”‚     â”‚      â”‚      â”‚    â”‚       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  ğŸ“Š Statistics                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Win Rate â”‚ Avg P&L  â”‚ Best     â”‚ Worst    â”‚             â”‚
â”‚  â”‚   75%    â”‚  +$6.2   â”‚  +$45    â”‚  -$12    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê¸°ëŠ¥:
- í•„í„°ë§ (ë‚ ì§œ, ìœ ì €, ì‹¬ë³¼)
- CSV ë‚´ë³´ë‚´ê¸°
- ê±°ë˜ í†µê³„
- í˜ì´ì§€ë„¤ì´ì…˜
- ìƒì„¸ ë³´ê¸° (í´ë¦­)
```

#### E. ì„±ê³¼ ë¶„ì„ í˜ì´ì§€ (`/analytics`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š Performance Analytics                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Period: [Last 7 Days â–¼]                                     â”‚
â”‚                                                               â”‚
â”‚  ğŸ’° Overall Performance                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Total P&Lâ”‚ Win Rate â”‚ Trades   â”‚ Avg Hold â”‚             â”‚
â”‚  â”‚ +$2,345  â”‚   72%    â”‚   156    â”‚  2m 34s  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                               â”‚
â”‚  ğŸ“ˆ P&L Chart (Cumulative)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  $3000 â”¤                              â•±              â”‚    â”‚
â”‚  â”‚  $2000 â”¤                         â•±                   â”‚    â”‚
â”‚  â”‚  $1000 â”¤                    â•±                        â”‚    â”‚
â”‚  â”‚      0 â”¤â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                          â”‚    â”‚
â”‚  â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>      â”‚    â”‚
â”‚  â”‚         Mon  Tue  Wed  Thu  Fri  Sat  Sun           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  ğŸ‘¥ User Performance Ranking                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Rank â”‚ User    â”‚ P&L    â”‚ Win Rate â”‚ Trades         â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  1   â”‚ user5   â”‚ +$345  â”‚   85%    â”‚  42            â”‚    â”‚
â”‚  â”‚  2   â”‚ user2   â”‚ +$298  â”‚   78%    â”‚  38            â”‚    â”‚
â”‚  â”‚  3   â”‚ user1   â”‚ +$267  â”‚   75%    â”‚  45            â”‚    â”‚
â”‚  â”‚  ... â”‚         â”‚        â”‚          â”‚                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  ğŸ“Š Symbol Performance                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Symbol  â”‚ Trades â”‚ Win Rate â”‚ Avg P&L â”‚ Total P&L  â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ BTCUSD  â”‚  89    â”‚   74%    â”‚  +$6.8  â”‚  +$605     â”‚    â”‚
â”‚  â”‚ ETHUSD  â”‚  45    â”‚   68%    â”‚  +$4.2  â”‚  +$189     â”‚    â”‚
â”‚  â”‚ XAUUSD  â”‚  22    â”‚   77%    â”‚  +$7.5  â”‚  +$165     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê¸°ëŠ¥:
- ê¸°ê°„ë³„ ì„±ê³¼ ë¶„ì„
- ëˆ„ì  ìˆ˜ìµ ì°¨íŠ¸
- ìœ ì €ë³„ ìˆœìœ„
- ì‹¬ë³¼ë³„ ì„±ê³¼
- í†µê³„ ëŒ€ì‹œë³´ë“œ
```

### 3.3 í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„

#### A. WebSocket ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
```typescript
// hooks/useWebSocket.ts
export const useWebSocket = (url: string) => {
  const [data, setData] = useState<any>(null);
  const [isConnected, setIsConnected] = useState(false);
  
  useEffect(() => {
    const ws = new WebSocket(url);
    
    ws.onopen = () => {
      setIsConnected(true);
      console.log('WebSocket connected');
    };
    
    ws.onmessage = (event) => {
      const message = JSON.parse(event.data);
      setData(message);
      
      // ë©”ì‹œì§€ íƒ€ì…ë³„ ì²˜ë¦¬
      switch (message.type) {
        case 'position_update':
          // í¬ì§€ì…˜ ì—…ë°ì´íŠ¸
          break;
        case 'balance_update':
          // ì”ê³  ì—…ë°ì´íŠ¸
          break;
        case 'trade_signal':
          // ê±°ë˜ ì‹ í˜¸
          break;
        case 'order_executed':
          // ì£¼ë¬¸ ì²´ê²°
          break;
      }
    };
    
    ws.onerror = (error) => {
      console.error('WebSocket error:', error);
    };
    
    ws.onclose = () => {
      setIsConnected(false);
      // ì¬ì—°ê²° ë¡œì§
      setTimeout(() => {
        // reconnect
      }, 3000);
    };
    
    return () => {
      ws.close();
    };
  }, [url]);
  
  return { data, isConnected };
};
```

#### B. ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ ì»´í¬ë„ŒíŠ¸
```typescript
// components/dashboard/Overview.tsx
export const Overview: React.FC = () => {
  const { data: wsData } = useWebSocket('ws://localhost:8000/ws/dashboard');
  const [stats, setStats] = useState<DashboardStats>(initialStats);
  
  useEffect(() => {
    if (wsData) {
      // ì‹¤ì‹œê°„ ë°ì´í„°ë¡œ ìƒíƒœ ì—…ë°ì´íŠ¸
      setStats(prev => ({
        ...prev,
        ...wsData
      }));
    }
  }, [wsData]);
  
  return (
    <div className="grid grid-cols-4 gap-4">
      <StatsCard 
        title="ì´ ìœ ì €"
        value={stats.totalUsers}
        icon={<UsersIcon />}
      />
      <StatsCard 
        title="í™œì„± ì„¸ì…˜"
        value={stats.activeSessions}
        icon={<CheckCircleIcon />}
        trend={stats.sessionTrend}
      />
      <StatsCard 
        title="ì´ ì”ê³ "
        value={formatCurrency(stats.totalBalance)}
        icon={<WalletIcon />}
      />
      <StatsCard 
        title="ì´ ìˆ˜ìµ"
        value={formatCurrency(stats.totalProfit)}
        icon={<TrendingUpIcon />}
        valueColor={stats.totalProfit >= 0 ? 'green' : 'red'}
      />
    </div>
  );
};
```

#### C. í¬ì§€ì…˜ í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸
```typescript
// components/trading/PositionTable.tsx
export const PositionTable: React.FC = () => {
  const { data: positions } = useWebSocket('ws://localhost:8000/ws/positions');
  const [sortedPositions, setSortedPositions] = useState<Position[]>([]);
  
  const handleCloseAll = async () => {
    const confirmed = await confirm('ëª¨ë“  í¬ì§€ì…˜ì„ ì²­ì‚°í•˜ì‹œê² ìŠµë‹ˆê¹Œ?');
    if (confirmed) {
      await api.post('/api/v1/trading/close-all');
    }
  };
  
  return (
    <div className="bg-white rounded-lg shadow p-6">
      <div className="flex justify-between items-center mb-4">
        <h2 className="text-xl font-bold">
          Open Positions ({positions?.length || 0})
        </h2>
        <button 
          onClick={handleCloseAll}
          className="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
        >
          Close All
        </button>
      </div>
      
      <table className="w-full">
        <thead>
          <tr className="border-b">
            <th>User</th>
            <th>Symbol</th>
            <th>Side</th>
            <th>Entry</th>
            <th>Current</th>
            <th>P&L</th>
            <th>ROI</th>
            <th>Duration</th>
          </tr>
        </thead>
        <tbody>
          {positions?.map((pos) => (
            <tr key={pos.id} className="border-b hover:bg-gray-50">
              <td>{pos.user.email}</td>
              <td>{pos.symbol}</td>
              <td>
                <Badge color={pos.side === 'LONG' ? 'green' : 'red'}>
                  {pos.side}
                </Badge>
              </td>
              <td>{formatPrice(pos.entryPrice)}</td>
              <td>{formatPrice(pos.currentPrice)}</td>
              <td className={pos.profitLoss >= 0 ? 'text-green-600' : 'text-red-600'}>
                {formatCurrency(pos.profitLoss)}
              </td>
              <td className={pos.roi >= 0 ? 'text-green-600' : 'text-red-600'}>
                {formatPercent(pos.roi)}
              </td>
              <td>{formatDuration(pos.duration)}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};
```

### 3.4 Claude Code ì—ì´ì „íŠ¸ ì§€ì‹œì‚¬í•­ (Phase 3)

```
TASK 3.1: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
- Create React App with TypeScript
- Tailwind CSS ì„¤ì •
- React Router ì„¤ì •
- í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„±

TASK 3.2: ê³µí†µ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- Layout (Header, Sidebar)
- Table, Button, Modal, Card ë“±
- LoadingSpinner, ErrorBoundary
- TypeScript íƒ€ì… ì •ì˜

TASK 3.3: API í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„
- Axios ê¸°ë°˜ API í´ë¼ì´ì–¸íŠ¸
- ì—ëŸ¬ ì²˜ë¦¬ ì¸í„°ì…‰í„°
- ì¸ì¦ í† í° ê´€ë¦¬
- TypeScript íƒ€ì… ì •ì˜

TASK 3.4: WebSocket í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„
- WebSocket í›… (useWebSocket)
- ì¬ì—°ê²° ë¡œì§
- ë©”ì‹œì§€ íƒ€ì…ë³„ í•¸ë“¤ëŸ¬
- ì—°ê²° ìƒíƒœ ê´€ë¦¬

TASK 3.5: ë©”ì¸ ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ êµ¬í˜„
- Overview ì»´í¬ë„ŒíŠ¸
- PerformanceChart ì»´í¬ë„ŒíŠ¸
- PositionTable ì»´í¬ë„ŒíŠ¸
- RecentTrades ì»´í¬ë„ŒíŠ¸
- ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸

TASK 3.6: ìœ ì € ê´€ë¦¬ í˜ì´ì§€ êµ¬í˜„
- UserList ì»´í¬ë„ŒíŠ¸
- UserForm (ì¶”ê°€/ìˆ˜ì •)
- ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬
- ì¼ê´„ ì‘ì—… ê¸°ëŠ¥

TASK 3.7: ê±°ë˜ í˜„í™© í˜ì´ì§€ êµ¬í˜„
- SignalPanel ì»´í¬ë„ŒíŠ¸
- PositionTable ì»´í¬ë„ŒíŠ¸
- OrderTable ì»´í¬ë„ŒíŠ¸
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

TASK 3.8: ê±°ë˜ ë‚´ì—­ í˜ì´ì§€ êµ¬í˜„
- TradeHistory ì»´í¬ë„ŒíŠ¸
- í•„í„°ë§ ê¸°ëŠ¥
- í†µê³„ í‘œì‹œ
- CSV ë‚´ë³´ë‚´ê¸°

TASK 3.9: ì„±ê³¼ ë¶„ì„ í˜ì´ì§€ êµ¬í˜„
- PerformanceChart ì»´í¬ë„ŒíŠ¸
- UserRanking ì»´í¬ë„ŒíŠ¸
- SymbolPerformance ì»´í¬ë„ŒíŠ¸
- Chart.js ë˜ëŠ” Recharts ì‚¬ìš©

TASK 3.10: ë°˜ì‘í˜• ë””ìì¸ ë° ìµœì í™”
- ëª¨ë°”ì¼ ë°˜ì‘í˜•
- ì„±ëŠ¥ ìµœì í™” (React.memo, useMemo)
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- ì ‘ê·¼ì„± ê°œì„ 
```

---

## ğŸ”— Phase 4: ì‹œìŠ¤í…œ í†µí•© ë° ë°°í¬

### 4.1 Docker êµ¬ì„±

```yaml
# docker-compose.yml
version: '3.8'

services:
  # PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: trading_system
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U admin"]
      interval: 10s
      timeout: 5s
      retries: 5

  # Trading Engine
  trading-engine:
    build: ./trading_engine
    environment:
      - DB_HOST=postgres
      - DB_PORT=5432
      - DB_NAME=trading_system
      - DB_USER=admin
      - DB_PASSWORD=${DB_PASSWORD}
      - API_BASE_URL=https://mtr-demo-prod.match-trader.com
    depends_on:
      postgres:
        condition: service_healthy
    volumes:
      - ./trading_engine:/app
    restart: unless-stopped

  # Back Office Server
  back-office:
    build: ./back_office_server
    environment:
      - DB_HOST=postgres
      - DB_PORT=5432
      - DB_NAME=trading_system
      - DB_USER=admin
      - DB_PASSWORD=${DB_PASSWORD}
      - TRADING_ENGINE_URL=http://trading-engine:8001
    ports:
      - "8000:8000"
    depends_on:
      - postgres
      - trading-engine
    volumes:
      - ./back_office_server:/app
    restart: unless-stopped

  # Frontend Dashboard
  dashboard:
    build: ./dashboard
    environment:
      - REACT_APP_API_URL=http://localhost:8000
      - REACT_APP_WS_URL=ws://localhost:8000
    ports:
      - "3000:3000"
    depends_on:
      - back-office
    volumes:
      - ./dashboard:/app
      - /app/node_modules
    restart: unless-stopped

  # Redis (ìºì‹± ë° ì„¸ì…˜)
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    restart: unless-stopped

volumes:
  postgres_data:
  redis_data:
```

### 4.2 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env.example
# Database
DB_PASSWORD=your_secure_password_here
DB_NAME=trading_system
DB_USER=admin

# API Keys
MATCH_TRADE_BROKER_ID=your_broker_id

# Trading Engine
TRADING_ENABLED=true
MAX_POSITION_SIZE=0.1
RISK_PER_TRADE=0.01

# Back Office
SECRET_KEY=your_secret_key_here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Frontend
REACT_APP_API_URL=http://localhost:8000
REACT_APP_WS_URL=ws://localhost:8000
```

### 4.3 Claude Code ì—ì´ì „íŠ¸ ì§€ì‹œì‚¬í•­ (Phase 4)

```
TASK 4.1: Docker ì„¤ì •
- Dockerfile ì‘ì„± (ê° ì„œë¹„ìŠ¤ë³„)
- docker-compose.yml ì‘ì„±
- í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- ë³¼ë¥¨ ë° ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

TASK 4.2: í†µí•© í…ŒìŠ¤íŠ¸
- Trading Engine â†” Back Office í†µí•©
- Back Office â†” Dashboard í†µí•©
- Match-Trade API ì—°ë™ í…ŒìŠ¤íŠ¸
- ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸

TASK 4.3: ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…
- ì¤‘ì•™í™”ëœ ë¡œê¹… ì‹œìŠ¤í…œ
- ì—ëŸ¬ ì¶”ì  (Sentry ë˜ëŠ” ìì²´ êµ¬í˜„)
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
- ì•Œë¦¼ ì‹œìŠ¤í…œ

TASK 4.4: ë³´ì•ˆ ê°•í™”
- API ì¸ì¦/ì¸ê°€
- ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
- SQL ì¸ì ì…˜ ë°©ì§€
- CORS ì„¤ì •
- Rate Limiting

TASK 4.5: ë¬¸ì„œí™”
- README.md ì‘ì„±
- API ë¬¸ì„œ (Swagger/OpenAPI)
- ì‚¬ìš©ì ê°€ì´ë“œ
- ë°°í¬ ê°€ì´ë“œ

TASK 4.6: ë°°í¬ ì¤€ë¹„
- í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •
- CI/CD íŒŒì´í”„ë¼ì¸ (ì„ íƒì‚¬í•­)
- ë°±ì—… ì „ëµ
- ë¡¤ë°± ê³„íš
```

---

## ğŸ“Š ì‹œìŠ¤í…œ ì›Œí¬í”Œë¡œìš°

### ì „ì²´ í”„ë¡œì„¸ìŠ¤ íë¦„

```
1. ì‹œìŠ¤í…œ ì‹œì‘
   â”œâ”€ Back Office Server ì‹œì‘
   â”œâ”€ Trading Engine ì‹œì‘
   â”œâ”€ Dashboard ì‹œì‘
   â””â”€ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸

2. ìœ ì € ë¡œê·¸ì¸ í”„ë¡œì„¸ìŠ¤
   â”œâ”€ Dashboardì—ì„œ "Login All" í´ë¦­
   â”œâ”€ Back Office: SessionManager.login_all_users() í˜¸ì¶œ
   â”œâ”€ ê° ìœ ì €ë³„ë¡œ ë³‘ë ¬ ë¡œê·¸ì¸ ì‹¤í–‰
   â”‚   â”œâ”€ Match-Trade API /manager/mtr-login í˜¸ì¶œ
   â”‚   â”œâ”€ í† í° ìˆ˜ì‹  ë° DB ì €ì¥
   â”‚   â””â”€ ì„¸ì…˜ í’€ì— ì¶”ê°€
   â”œâ”€ ëª¨ë“  ë¡œê·¸ì¸ ì™„ë£Œ í›„ ê²°ê³¼ ë°˜í™˜
   â””â”€ Dashboard ì—…ë°ì´íŠ¸ (WebSocket)

3. ê±°ë˜ ì‹ í˜¸ ìƒì„± ë° ì‹¤í–‰
   â”œâ”€ Trading Engine: ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„° ìˆ˜ì§‘
   â”‚   â”œâ”€ Match-Trade API /market-watch í˜¸ì¶œ
   â”‚   â”œâ”€ Match-Trade API /candles í˜¸ì¶œ
   â”‚   â””â”€ í˜¸ê°€ì°½ ë°ì´í„° ìˆ˜ì§‘
   â”‚
   â”œâ”€ ë¶„ì„ ìˆ˜í–‰
   â”‚   â”œâ”€ VolumeAnalyzer: ê±°ë˜ëŸ‰ ê¸‰ì¦ ê°ì§€
   â”‚   â”œâ”€ OrderBookAnalyzer: í˜¸ê°€ ë¶ˆê· í˜• ë¶„ì„
   â”‚   â””â”€ ScalpingStrategy: ì§„ì… ì¡°ê±´ ê²€ì¦
   â”‚
   â”œâ”€ ì‹ í˜¸ ìƒì„± (ì¡°ê±´ ì¶©ì¡± ì‹œ)
   â”‚   â””â”€ signal = {
   â”‚         "action": "OPEN_LONG",
   â”‚         "symbol": "BTCUSD",
   â”‚         "entry_price": 50000,
   â”‚         "stop_loss": 49900,
   â”‚         "take_profit": 50150
   â”‚       }
   â”‚
   â”œâ”€ Back Officeë¡œ ì‹ í˜¸ ì „ì†¡
   â”‚   â””â”€ POST /api/v1/trading/signal
   â”‚
   â”œâ”€ OrderOrchestrator: ë™ì‹œ ì£¼ë¬¸ ì‹¤í–‰
   â”‚   â”œâ”€ í™œì„± ì„¸ì…˜ ì¡°íšŒ (12ëª…)
   â”‚   â”œâ”€ ê° ìœ ì €ë³„ ì£¼ë¬¸ ìƒì„±
   â”‚   â”‚   â”œâ”€ ê³„ì¢Œ ì”ê³  í™•ì¸
   â”‚   â”‚   â”œâ”€ í¬ì§€ì…˜ ì‚¬ì´ì¦ˆ ê³„ì‚°
   â”‚   â”‚   â””â”€ ì£¼ë¬¸ íŒŒë¼ë¯¸í„° ìƒì„±
   â”‚   â”‚
   â”‚   â”œâ”€ ë³‘ë ¬ ì£¼ë¬¸ ì‹¤í–‰ (asyncio.gather)
   â”‚   â”‚   â”œâ”€ User1: Match-Trade API /positions/open
   â”‚   â”‚   â”œâ”€ User2: Match-Trade API /positions/open
   â”‚   â”‚   â”œâ”€ ...
   â”‚   â”‚   â””â”€ User12: Match-Trade API /positions/open
   â”‚   â”‚
   â”‚   â””â”€ ê²°ê³¼ ìˆ˜ì§‘ ë° DB ì €ì¥
   â”‚
   â””â”€ Dashboard ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ (WebSocket)
       â”œâ”€ ì‹ í˜¸ íŒ¨ë„ ì—…ë°ì´íŠ¸
       â”œâ”€ í¬ì§€ì…˜ í…Œì´ë¸” ì—…ë°ì´íŠ¸
       â””â”€ ì”ê³  ì •ë³´ ì—…ë°ì´íŠ¸

4. í¬ì§€ì…˜ ëª¨ë‹ˆí„°ë§ ë° ì²­ì‚°
   â”œâ”€ OrderOrchestrator: ë°±ê·¸ë¼ìš´ë“œ ëª¨ë‹ˆí„°ë§
   â”‚   â”œâ”€ ëª¨ë“  ì—´ë¦° í¬ì§€ì…˜ ì£¼ê¸°ì  ì²´í¬ (1ì´ˆë§ˆë‹¤)
   â”‚   â”œâ”€ ê° í¬ì§€ì…˜ë³„ ì¡°ê±´ í™•ì¸
   â”‚   â”‚   â”œâ”€ ëª©í‘œê°€ ë„ë‹¬?
   â”‚   â”‚   â”œâ”€ ì†ì ˆê°€ ë„ë‹¬?
   â”‚   â”‚   â”œâ”€ ë°˜ëŒ€ ì‹ í˜¸ ë°œìƒ?
   â”‚   â”‚   â””â”€ ìµœëŒ€ ë³´ìœ  ì‹œê°„ ì´ˆê³¼?
   â”‚   â”‚
   â”‚   â””â”€ ì²­ì‚° ì¡°ê±´ ì¶©ì¡± ì‹œ
   â”‚       â”œâ”€ í•´ë‹¹ ìœ ì €ì˜ í¬ì§€ì…˜ ì²­ì‚°
   â”‚       â”œâ”€ Match-Trade API /positions/close
   â”‚       â”œâ”€ ê±°ë˜ ë‚´ì—­ DB ì €ì¥
   â”‚       â””â”€ Dashboard ì—…ë°ì´íŠ¸
   â”‚
   â””â”€ í†µê³„ ì—…ë°ì´íŠ¸
       â”œâ”€ ì´ ìˆ˜ìµ ê³„ì‚°
       â”œâ”€ ìŠ¹ë¥  ê³„ì‚°
       â””â”€ ì„±ê³¼ ì§€í‘œ ì—…ë°ì´íŠ¸

5. ì„¸ì…˜ ìœ ì§€
   â”œâ”€ SessionManager: ë°±ê·¸ë¼ìš´ë“œ íƒœìŠ¤í¬
   â”‚   â”œâ”€ 10ë¶„ë§ˆë‹¤ ì„¸ì…˜ ì²´í¬
   â”‚   â”œâ”€ ë§Œë£Œ ì„ë°• ì‹œ í† í° ê°±ì‹ 
   â”‚   â”‚   â””â”€ Match-Trade API /manager/refresh-token
   â”‚   â”‚
   â”‚   â””â”€ ê°±ì‹  ì‹¤íŒ¨ ì‹œ ì¬ë¡œê·¸ì¸
   â”‚
   â””â”€ Dashboard ìƒíƒœ í‘œì‹œ ì—…ë°ì´íŠ¸

6. ì‚¬ìš©ì ëª¨ë‹ˆí„°ë§
   â”œâ”€ Dashboardì—ì„œ ì‹¤ì‹œê°„ ë°ì´í„° í™•ì¸
   â”‚   â”œâ”€ í™œì„± í¬ì§€ì…˜ í˜„í™©
   â”‚   â”œâ”€ ìˆ˜ìµ/ì†ì‹¤
   â”‚   â”œâ”€ ê±°ë˜ ë‚´ì—­
   â”‚   â””â”€ ì„±ê³¼ ë¶„ì„
   â”‚
   â””â”€ í•„ìš” ì‹œ ìˆ˜ë™ ê°œì…
       â”œâ”€ íŠ¹ì • ìœ ì € ë¡œê·¸ì•„ì›ƒ
       â”œâ”€ ì „ì²´ í¬ì§€ì…˜ ì²­ì‚°
       â””â”€ ì„¤ì • ë³€ê²½
```

---

## ğŸ“ ê°œë°œ ìˆœì„œ ë° ë§ˆì¼ìŠ¤í†¤

### Week 1: Foundation
- Day 1-2: Trading Engine í”„ë¡œì íŠ¸ ì„¤ì • ë° Market Data Collector êµ¬í˜„
- Day 3-4: Volume Analyzer ë° OrderBook Analyzer êµ¬í˜„
- Day 5-7: Scalping Strategy êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸

### Week 2: Backend
- Day 1-2: Back Office Server í”„ë¡œì íŠ¸ ì„¤ì • ë° Database êµ¬ì¶•
- Day 3-4: Match-Trade API Client êµ¬í˜„
- Day 5-6: Session Manager ë° Order Orchestrator êµ¬í˜„
- Day 7: REST API ë° WebSocket êµ¬í˜„

### Week 3: Frontend
- Day 1-2: Dashboard í”„ë¡œì íŠ¸ ì„¤ì • ë° ê³µí†µ ì»´í¬ë„ŒíŠ¸
- Day 3-4: ë©”ì¸ ëŒ€ì‹œë³´ë“œ ë° ìœ ì € ê´€ë¦¬ í˜ì´ì§€
- Day 5-6: ê±°ë˜ í˜„í™© ë° ë‚´ì—­ í˜ì´ì§€
- Day 7: ì„±ê³¼ ë¶„ì„ í˜ì´ì§€ ë° ë°˜ì‘í˜• ë””ìì¸

### Week 4: Integration & Testing
- Day 1-2: ì‹œìŠ¤í…œ í†µí•© ë° ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸
- Day 3-4: ë¶€í•˜ í…ŒìŠ¤íŠ¸ ë° ì„±ëŠ¥ ìµœì í™”
- Day 5-6: ë³´ì•ˆ ê°•í™” ë° ì—ëŸ¬ ì²˜ë¦¬
- Day 7: ë¬¸ì„œí™” ë° ë°°í¬ ì¤€ë¹„

---

## ğŸ¯ í•µì‹¬ ì„±ê³µ ìš”ì†Œ

1. **ë™ì‹œì„± ì²˜ë¦¬**: asyncioë¥¼ í™œìš©í•œ íš¨ìœ¨ì ì¸ ë³‘ë ¬ ì²˜ë¦¬
2. **ì—ëŸ¬ ì²˜ë¦¬**: ê²¬ê³ í•œ ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜
3. **ì‹¤ì‹œê°„ì„±**: WebSocketì„ í†µí•œ ì¦‰ê°ì ì¸ ë°ì´í„° ì—…ë°ì´íŠ¸
4. **í™•ì¥ì„±**: ìœ ì € ìˆ˜ ì¦ê°€ì— ëŒ€ì‘ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜
5. **ëª¨ë‹ˆí„°ë§**: ì‹œìŠ¤í…œ ìƒíƒœ ë° ê±°ë˜ ì„±ê³¼ ì‹¤ì‹œê°„ ì¶”ì 

---

## ğŸš€ Claude Code ì—ì´ì „íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ

ê° Phaseë³„ë¡œ ë‹¤ìŒê³¼ ê°™ì´ Claude Code ì—ì´ì „íŠ¸ì—ê²Œ ìš”ì²­í•˜ì„¸ìš”:

```
Phase 1 ì‹œì‘:
"trading_engine í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  TASK 1.1ë¶€í„° 1.7ê¹Œì§€ ìˆœì°¨ì ìœ¼ë¡œ êµ¬í˜„í•´ì¤˜. 
ê° íƒœìŠ¤í¬ ì™„ë£Œ í›„ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ê³  ë‹¤ìŒ íƒœìŠ¤í¬ë¡œ ì§„í–‰í•´."

Phase 2 ì‹œì‘:
"back_office_server í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  TASK 2.1ë¶€í„° 2.9ê¹Œì§€ ìˆœì°¨ì ìœ¼ë¡œ êµ¬í˜„í•´ì¤˜.
Match-Trade API ë¬¸ì„œ(/mnt/user-data/outputs/match_trade_api_complete_documentation.json)ë¥¼ 
ì°¸ì¡°í•˜ì—¬ API Clientë¥¼ ì •í™•í•˜ê²Œ êµ¬í˜„í•´."

Phase 3 ì‹œì‘:
"React + TypeScriptë¡œ dashboard í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  TASK 3.1ë¶€í„° 3.10ê¹Œì§€ êµ¬í˜„í•´ì¤˜.
Tailwind CSSë¥¼ ì‚¬ìš©í•˜ê³  ë°˜ì‘í˜• ë””ìì¸ì„ ì ìš©í•´."

Phase 4 ì‹œì‘:
"ì „ì²´ ì‹œìŠ¤í…œì„ Dockerë¡œ í†µí•©í•˜ê³  TASK 4.1ë¶€í„° 4.6ê¹Œì§€ ì™„ë£Œí•´ì¤˜.
ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê³  ë°°í¬ ì¤€ë¹„ë¥¼ ì™„ë£Œí•´."
```

---

ì´ ê¸°íšì„œë¥¼ ë°”íƒ•ìœ¼ë¡œ Claude Code ì—ì´ì „íŠ¸ê°€ ê° Phaseë¥¼ ìˆœì°¨ì ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ê° ì»´í¬ë„ŒíŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ ë° í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë©°, ìµœì¢…ì ìœ¼ë¡œ í†µí•©ë˜ì–´ ì™„ì „í•œ ìë™ ê±°ë˜ ì‹œìŠ¤í…œì„ êµ¬ì„±í•©ë‹ˆë‹¤.
